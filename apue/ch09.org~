#+title: 进程关系

* 概念

- init 进程：PID 为 1 的进程

* 终端登录过程

** 非网络

1. init fork 若干子进程（每个设备一个），exec getty
2. 有用户通过某设备登录时，相应的进程 exec login
3. login 之后运行 shell

** 网络

*无法预先知道会有多少设备登录，因此是等待网络连接之后才进行后续操作*

1. init 启动一个守护进程 a（比如 inetd）
2. 每出现一个网络连接，守护进程就 fork 一个子进程 b（比如telnetd）
3. b 打开伪终端并 fork，父进程负责通信，子进程 login



